---
import { t } from 'i18next'
import HeadSEO from '~/components/HeadSEO.astro'
import { HeadHrefLangs } from 'astro-i18next/components'
import Layout, {
    type Props as LayoutProps,
} from '~/components/Layout/Layout.astro'

export interface Props extends LayoutProps {
    pageNamespace: string
    disableAlternate?: boolean
}

const { pageNamespace, disableAlternate = false, ...layoutProps } = Astro.props
const pageT = (key: string) => t(key, { ns: pageNamespace })
---

<Layout {...layoutProps}>
    <Fragment slot="head">
        {!disableAlternate && <HeadHrefLangs />}
        <HeadSEO
            canonical={disableAlternate ? Astro.url.origin : undefined}
            title={pageT('seo.title')}
            description={pageT('seo.description')}
            image={{
                url: '/images/og-image.jpg',
                alt: pageT('seo.description'),
            }}
        />
    </Fragment>
    <slot />
</Layout>
